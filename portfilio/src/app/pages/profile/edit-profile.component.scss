@import '../../../styles/variables';

$modal-bg: #2D0C13;
$input-bg: #FFF5F0;
$text-color: #FFF;

:host {
  display: block;
  background-color: $color-bg-bottom;
  min-height: 100vh;
}

.edit-page {
  display: flex; justify-content: center; align-items: flex-start;
  padding: calc(#{$header-height} + 3rem) 1rem 4rem;
}

.edit-card {
  background-color: $modal-bg;
  width: 100%; max-width: 600px;
  border-radius: 30px; padding: 3rem 2rem;
  color: white; box-shadow: 0 20px 50px rgba(0,0,0,0.3);

  h2 {
    text-align: center; font-size: 1.8rem; font-weight: 700; margin-bottom: 2rem;
  }
}

.main-label {
  font-size: 1rem; font-weight: 800; color: #FFDdd0;
  display: block; margin-bottom: 1rem; text-align: center;
}

// --- AVATAR ---
.avatar-section {
  display: flex; flex-direction: column; align-items: center; gap: 1rem;
  margin-bottom: 2.5rem;

  .avatar-preview-wrapper {
    position: relative; display: inline-block;
    .btn-remove-avatar {
      position: absolute; top: 0; right: 0;
      background-color: #E74C3C; color: white;
      border: 2px solid $modal-bg; border-radius: 50%;
      width: 32px; height: 32px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: all 0.2s; padding: 0;
      &:hover { background-color: darken(#E74C3C, 10%); transform: scale(1.1); }
      svg { width: 16px; height: 16px; }
    }
  }

  .btn-change-photo {
    background-color: #0088CC; color: white; border: none;
    padding: 8px 24px; border-radius: 20px;
    font-weight: 700; cursor: pointer; transition: background 0.2s;
    &:hover { background-color: lighten(#0088CC, 5%); }
  }

  .img-help-text { font-size: 0.8rem; color: rgba(255, 255, 255, 0.6); margin-top: -0.5rem; }
}

// --- FORM GROUPS ---
.form-group {
  display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.2rem;
  label { font-size: 0.9rem; font-weight: 700; color: #FFDdd0; .req { color: #E74C3C; } }

  input, textarea {
    background-color: $input-bg; border: none; border-radius: 12px;
    padding: 12px 15px; width: 100%;
    font-family: 'Inter', sans-serif; font-size: 1rem; color: $color-dark;
    &:focus { outline: 2px solid $color-orange; }
  }
  textarea { resize: none; }
}

// --- LINKS ---
.links-section {
  margin-top: 2rem;
  .section-label { font-size: 0.9rem; font-weight: 700; color: #FFDdd0; display: block; margin-bottom: 0.8rem; }

  .links-list { display: flex; flex-direction: column; gap: 10px; }

  .link-row {
    display: flex; align-items: center; gap: 10px;

    .drag-handle { cursor: grab; color: rgba(255,255,255,0.5); svg { width: 16px; } }

    .icon-preview { display: flex; color: #FFDdd0; }

    .select-wrapper {
      position: relative; width: 140px;
      select {
        width: 100%; appearance: none;
        background-color: $input-bg; border: none; border-radius: 20px;
        padding: 10px 30px 10px 15px;
        font-weight: 700; color: $color-dark; cursor: pointer;
      }
      .chevron {
        position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
        color: $color-dark; font-size: 0.7rem; pointer-events: none;
      }
    }

    .separator { color: white; display: flex; align-items: center; }

    input {
      flex: 1; background-color: $input-bg; border: none; border-radius: 20px; padding: 10px 15px;
    }

    .btn-delete {
      background: none; border: none; color: rgba(255,255,255,0.7); cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      width: 30px; height: 30px;
      &:hover { color: #E74C3C; transform: scale(1.1); }
    }
  }

  .error-msg { color: #E74C3C; font-size: 0.85rem; margin-left: 30px; margin-top: -5px; }
}

// Bouton Nouvelle Option (Style Projet)
.add-link-wrapper {
  display: flex; justify-content: center; margin-top: 1.5rem;

  .btn-new-option {
    background: none; border: none; color: white;
    font-size: 1rem; font-weight: 700; cursor: pointer;
    display: flex; align-items: center; gap: 8px;
    opacity: 0.9; transition: all 0.2s ease;

    .icon-circle {
      width: 24px; height: 24px; border-radius: 50%;
      border: 2px dashed rgba(255,255,255,0.6);
      display: flex; align-items: center; justify-content: center;
      transition: all 0.2s ease;
      svg { width: 12px; height: 12px; }
    }

    &:hover {
      opacity: 1; transform: scale(1.05);
      .icon-circle { border-color: white; background: rgba(255,255,255,0.1); }
    }
  }
}

// --- ACTIONS ---
.form-actions {
  display: flex; gap: 1rem; margin-top: 3rem;

  button {
    flex: 1; padding: 12px; border-radius: 25px; border: none;
    font-weight: 700; font-size: 1rem; cursor: pointer; transition: transform 0.2s;
    &:active { transform: scale(0.98); }
  }

  .btn-cancel { background-color: #E8501D; color: white; }
  .btn-submit { background-color: #0088CC; color: white; }
}
